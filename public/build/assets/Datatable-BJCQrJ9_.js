import{K as N,J as m,B as q,y as _,o as s,e as n,a as t,g as b,b as r,f as c,F as v,r as k,p as x,t as u,j as I,W as L,E as C,O}from"./app-DYrR7Grp.js";const F={class:"table-responsive"},U={class:"dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns"},z={class:"dataTable-top"},J={class:"dataTable-dropdown"},K=["selected"],W=["selected"],G=["selected"],H=["selected"],Q=["selected"],R={class:"dataTable-search"},X={key:0,class:"dropdown d-inline-block"},Y=t("button",{class:"btn btn-outline-secondary btn-sm mb-0 ms-2",id:"navbarDropdownMenuLink1","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},[b(" Actions "),t("i",{class:"fa fa-ellipsis-v ms-2","aria-hidden":"true"})],-1),Z={class:"dropdown-menu dropdown-menu-end me-sm-n4 me-n3","aria-labelledby":"navbarDropdownMenuLink1",style:{position:"absolute",inset:"0px 0px auto auto",margin:"0px",transform:"translate(0px, 46px)"},"data-popper-placement":"bottom-end"},ee={class:"dataTable-container"},te={class:"table dataTable-table"},ae={class:"thead-light"},se={key:0,class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7",style:{width:"20px"}},ne={class:"form-check"},oe=["onClick"],le={key:0,href:"javascript:;",class:"dataTable-sorter"},de={key:1,style:{width:"8.19775%"}},ce={key:0},ie={class:"form-check"},re=["id","onUpdate:modelValue"],ue={class:"text-sm font-weight-normal"},he={class:"text-sm"},ge=["onClick"],ve=t("i",{class:"fas fa-eye text-secondary","aria-hidden":"true"},null,-1),ke=[ve],be=["onClick"],pe=t("i",{class:"fas fa-user-edit text-secondary","aria-hidden":"true"},null,-1),fe=[pe],ye=["onClick"],me=t("i",{class:"fas fa-trash text-secondary","aria-hidden":"true"},null,-1),_e=[me],xe={key:1},Ce=["colspan"],we={class:"dataTable-bottom"},Te={class:"dataTable-info"},$e={class:"dataTable-pagination"},De={key:0,class:"dataTable-pagination-list"},Pe={key:0,class:"pager"},je=["onClick"],Se={key:1,class:"pager"},Ee={__name:"Datatable",props:{data:{type:Object,required:!0},checkbox:{type:Boolean,default:!1},sorting:{type:Boolean,default:!0},columns:{type:Array,required:!0},actions:{type:Array,default:[]}},emits:["onPreviewClicked","onEditClicked","onDeleteClicked","onDeleteManyClicked"],setup(e,{emit:Ae}){const{data:p,columns:w,actions:T,checkbox:$}=e,o=N({page:p.current_page}),D=a=>{o.per_page=a.target.value},P=()=>{o.page=o.page+1},j=a=>{o.page=a},S=()=>{o.page=o.page-1},f=m(null),h=m([]),A=a=>{for(let d=0;d<p.data.length;d++)h.value[d]=a.target.checked},B=()=>{f.value.checked=!1,h.value=[]};q(o,async()=>{B(),O.visit(route(route().current()),{method:"get",data:o,preserveState:!0})});const M=a=>{if(o.sort!==a&&o.sort!=="-"+a){o.sort=a;return}if(!o.sort){o.sort=a;return}if(o.sort===a){o.sort="-"+a;return}o.sort=void 0},E=_(()=>{let a=w.length;return $&&(a=a+1),T.length>0&&(a=a+1),a}),V=a=>{o.filter={q:a.target.value}},y=_(()=>{const a=[];for(let d=0;d<h.value.length;d++)h.value[d]&&(a[d]=p.data[d].id);return a});return(a,d)=>(s(),n("div",F,[t("div",U,[t("div",z,[t("div",J,[t("label",null,[t("select",{class:"dataTable-selector",onChange:D},[t("option",{value:"5",selected:e.data.per_page===5},"5",8,K),t("option",{value:"10",selected:e.data.per_page===10},"10",8,W),t("option",{value:"15",selected:e.data.per_page===15},"15",8,G),t("option",{value:"20",selected:e.data.per_page===20},"20",8,H),t("option",{value:"25",selected:e.data.per_page===25},"25",8,Q)],32),b(" entries per page ")])]),t("div",R,[t("input",{class:"dataTable-input",placeholder:"Search...",type:"text",onInput:V},null,32),y.value.length>0&&e.actions.includes("delete-many")?(s(),n("div",X,[Y,t("div",Z,[t("a",{class:"dropdown-item text-danger",href:"javascript:;",onClick:d[0]||(d[0]=r(l=>a.$emit("onDeleteManyClicked",y.value),["prevent"]))},"Delete Selected")])])):c("",!0)])]),t("div",ee,[t("table",te,[t("thead",ae,[t("tr",null,[e.checkbox?(s(),n("th",se,[t("div",ne,[t("input",{class:"form-check-input",type:"checkbox",id:"all-checkbox",onChange:A,ref_key:"allCheckbox",ref:f,style:{width:"1.9em",height:"1.9em"}},null,544)])])):c("",!0),(s(!0),n(v,null,k(e.columns,(l,g)=>(s(),n("th",{class:x([{asc:o.sort===l,desc:o.sort==="-"+l},"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"]),onClick:i=>M(l)},[e.sorting?(s(),n("a",le,u(l.replace("_"," ")),1)):(s(),n(v,{key:1},[b(u(l.replace("_","")),1)],64))],10,oe))),256)),e.actions.length>0?(s(),n("th",de," Action ")):c("",!0)])]),t("tbody",null,[e.data.data.length>0?(s(!0),n(v,{key:0},k(e.data.data,(l,g)=>(s(),n("tr",{key:g},[e.checkbox?(s(),n("td",ce,[t("div",ie,[I(t("input",{class:"form-check-input",type:"checkbox",id:`checkbox${g}`,"onUpdate:modelValue":i=>h.value[g]=i},null,8,re),[[L,h.value[g]]])])])):c("",!0),(s(!0),n(v,null,k(e.columns,(i,Be)=>(s(),n("td",ue,[C(a.$slots,i,{data:l},()=>[b(u(l[i]),1)])]))),256)),t("td",he,[C(a.$slots,"actions",{data:l},()=>[e.actions.includes("preview")?(s(),n("a",{key:0,href:"javascript:;",onClick:r(i=>a.$emit("onPreviewClicked",l.id),["prevent"]),"data-bs-toggle":"tooltip","data-bs-original-title":"Preview"},ke,8,ge)):c("",!0),e.actions.includes("edit")?(s(),n("a",{key:1,href:"javascript:;",onClick:r(i=>a.$emit("onEditClicked",l.id),["prevent"]),class:"ms-3","data-bs-toggle":"tooltip","data-bs-original-title":"Edit"},fe,8,be)):c("",!0),e.actions.includes("delete")?(s(),n("a",{key:2,href:"javascript:;",onClick:r(i=>a.$emit("onDeleteClicked",l.id),["prevent"]),class:"ms-3","data-bs-toggle":"tooltip","data-bs-original-title":"Delete"},_e,8,ye)):c("",!0)])])]))),128)):(s(),n("tr",xe,[t("td",{class:"dataTables-empty",colspan:E.value},"No entries found",8,Ce)]))])])]),t("div",we,[t("div",Te,"Showing "+u(e.data.total>0?e.data.current_page>1?e.data.per_page*e.data.current_page-e.data.per_page+1:e.data.current_page:0)+" to "+u(e.data.total<e.data.per_page*e.data.current_page?e.data.total:e.data.per_page*e.data.current_page)+" of "+u(e.data.total)+" entries ",1),t("nav",$e,[e.data.links.length>3?(s(),n("ul",De,[e.data.current_page>1?(s(),n("li",Pe,[t("a",{href:"#",onClick:r(S,["prevent"])},"â€¹")])):c("",!0),(s(!0),n(v,null,k(e.data.last_page,l=>(s(),n("li",{class:x({active:l===e.data.current_page}),key:l},[t("a",{href:"#",onClick:r(g=>j(l),["prevent"])},u(l),9,je)],2))),128)),e.data.current_page<e.data.last_page?(s(),n("li",Se,[t("a",{href:"#",onClick:r(P,["prevent"])},"â€º")])):c("",!0)])):c("",!0)])])])]))}};export{Ee as _};

import{i as G,h as J,T as D,D as F,o as r,c as O,w as P,a as e,u as t,e as i,f as h,b as C,d as a,j as _,z as p,F as y,r as f,t as w,v as W,g as v}from"./app-DYrR7Grp.js";import{_ as $}from"./AppLayout-YqD8XSQj.js";import{i as E}from"./multistep-form-D2Ki7QHK.js";import"./Delta-DVXFkMrs.js";import{_ as n}from"./InputError-DWI--Z5X.js";import"./index.esm-Bga-vxv6.js";import{_ as m}from"./SoftInput-DDylL9rA.js";import{S as I}from"./SoftButton-XtrF8TAg.js";import{G as Y}from"./GatewayParam-BD41-HzS.js";import{_ as H}from"./SoftSwitch-BgsJoV2C.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DSNejwUh.js";import"./bootstrap.esm-BUwkA-Zi.js";const Q={class:"py-4 container-fluid"},X={class:"row"},Z={class:"col-12"},ee={class:"multisteps-form"},se={class:"row"},te={class:"mx-auto mt-4 mb-3 col-12 col-lg-8 mb-sm-5"},oe={class:"multisteps-form__progress"},le=e("button",{class:"multisteps-form__progress-btn js-active js-active position-relative",type:"button",title:"Gateway Info"},[e("span",null,"1. Gateway Information")],-1),ae={key:0,class:"multisteps-form__progress-btn",type:"button",title:"Media"},re={key:1,class:"multisteps-form__progress-btn",type:"button",title:"webhook"},ne={class:"row"},ie={class:"m-auto col-12 col-lg-8"},de={class:"p-3 bg-white card multisteps-form__panel border-radius-xl js-active position-relative","data-animation":"FadeIn"},me=e("h5",{class:"font-weight-bolder"},"Gateway Information",-1),ce={class:"multisteps-form__content"},ue={class:"mt-3 row"},_e={class:"col-12 col-sm-12"},pe=e("label",null,"Name",-1),ye={class:"row mb-3"},he={class:"col-12 col-sm-12"},be=e("label",{class:"form-label"},"Type",-1),ge=e("option",{value:"http"},"HTTP",-1),fe=e("option",{value:"smpp"},"SMPP",-1),ve=[ge,fe],we={class:"row"},ke={class:"col-12 col-sm-12"},Ve=e("label",null,"Base URL",-1),xe={class:"row"},Pe={class:"col-12 col-sm-12"},je=e("label",null,"Success Keyword",-1),Ue={class:"row"},Se={class:"col-12 col-sm-12"},Te=e("label",{class:"form-label"},"HTTP Request Method",-1),Oe=["value"],Ne={class:"mt-3 row"},Ce={class:"col-12 col-sm-12"},Ie=e("label",{class:"form-label"},"Enable JSON Encoded Request",-1),ze=e("option",{value:!0},"Yes",-1),Me=e("option",{value:!1},"No",-1),Ae=[ze,Me],qe={class:"mt-3 row"},Ke={class:"col-12 col-sm-12"},Le=e("label",{class:"form-label"},"Content Type",-1),Re=["value"],Be={class:"mt-3 row"},Ge={class:"col-12 col-sm-12"},Je=e("label",{class:"form-label"},"Accept Content Type",-1),De=["value"],Fe={class:"mt-3 row"},We={class:"col-12 col-sm-12"},$e=e("label",{class:"form-label"},"Encoding",-1),Ee=["value"],Ye={class:"mt-3 row"},He={class:"col-12 col-sm-12"},Qe=e("label",{class:"form-label"},"Ignore SSL",-1),Xe=e("option",{value:!0},"Yes",-1),Ze=e("option",{value:!1},"No",-1),es=[Xe,Ze],ss={class:"mt-3 row"},ts={class:"col-12 col-sm-12"},os=e("label",{class:"form-label"},"Authorization",-1),ls=["value"],as={class:"row"},rs={class:"col-12 col-sm-12"},ns=e("label",null,"IP Address",-1),is={class:"row"},ds={class:"col-12 col-sm-12"},ms=e("label",null,"Port",-1),cs={class:"row"},us={class:"col-12 col-sm-12"},_s=e("label",null,"Username",-1),ps={class:"row"},ys={class:"col-12 col-sm-12"},hs=e("label",null,"Password",-1),bs={class:"row"},gs={class:"col-12 col-sm-12"},fs=e("label",null,"Sender",-1),vs={class:"mt-3 row"},ws=e("label",{for:"amount",class:"form-label"},"Cost",-1),ks={class:"input-group"},Vs=e("span",{class:"input-group-text"},"$",-1),xs={class:"mt-3 row"},Ps={class:"col-12 col-sm-12"},js=e("label",{for:"limit",class:"form-label"},"Sending Limit",-1),Us={class:"row"},Ss={class:"col-12 col-sm-12"},Ts=e("label",null,"Delay",-1),Os={class:"row"},Ns={class:"col-12 col-sm-12"},Cs=e("label",{class:"form-label"},"Delay Time Unit",-1),Is=["value"],zs={class:"mt-4 row"},Ms={class:"col-12 col-sm-12"},As={class:"mt-4 button-row d-flex col-12"},qs={key:1,class:"btn mb-0 bg-gradient-dark btn-md null null mb-0 ms-auto js-btn-next",type:"button",title:"Next"},Ks={key:0,class:"p-3 bg-white card multisteps-form__panel border-radius-xl","data-animation":"FadeIn"},Ls=e("h5",{class:"font-weight-bolder"},"Parameters",-1),Rs={class:"multisteps-form__content"},Bs={class:"m-auto mt-4 text-center"},Gs=e("div",{class:"mt-5 button-row d-flex col-12"},[e("button",{class:"btn mb-0 bg-gradient-secondary btn-md null null mb-0 js-btn-prev",title:"Prev"},"Prev "),e("button",{class:"btn mb-0 bg-gradient-dark btn-md null null mb-0 ms-auto js-btn-next",type:"button",title:"Next"},"Next ")],-1),Js={key:1,class:"p-3 bg-white card multisteps-form__panel border-radius-xl","data-animation":"FadeIn"},Ds=e("h5",{class:"font-weight-bolder"},"Webhook",-1),Fs={class:"multisteps-form__content"},Ws={class:"row mt-3"},$s={class:"col-12 col-sm-12"},Es=e("label",null,[v("Response JSON Message Key "),e("span",{class:"text-xs text-secondary"},"(You can use . notion)")],-1),Ys={class:"row"},Hs={class:"col-12 col-sm-12"},Qs=e("label",null,[v("Webhook JSON Message Key "),e("span",{class:"text-xs text-secondary"},"(You can use . notion)")],-1),Xs={class:"row"},Zs={class:"col-12 col-sm-12"},et=e("label",null,[v("Webhook JSON Status Key "),e("span",{class:"text-xs text-secondary"},"(You can use . notion)")],-1),st={class:"mt-5 button-row d-flex col-12"},ht={__name:"Create",props:{methodTypes:{type:Array,required:!0},contentTypes:{type:Array,required:!0},encodingTypes:{type:Array,required:!0},authTypes:{type:Array,required:!0},delayTypes:{type:Array,required:!0}},setup(b){const z=G("$swal"),{methodTypes:tt,contentTypes:N,encodingTypes:M,authTypes:A,delayTypes:q}=b;J(()=>{E(),j(),V("source","source",!0,!0,!1),V("destination","source",!0,!1,!1),V("message","message",!0,!1,!1),V("unicode","Unicode",!0,!0,!1,!0)});const s=D({name:"",type:"http",base_url:"",success_keyword:"",json_message_key:"",webhook_json_message_key:"",webhook_json_status_key:"",method_type:null,json_encoded:!1,content_type:N[0],accept:N[0],encoding_type:M[0],ignore_ssl:!0,authorization_type:A[0]??null,ip_address:"",port:1,username:"",password:"",sender:"",limit:500,cost:0,delay:1,delay_type:q[0]??null,enabled:!0,params:[]}),K=()=>{s.post(route("gateway.store"),{onSuccess:()=>{z.fire({title:"Success!",text:"Gateway is created successfully.!",icon:"success"})}})},j=()=>{(s.authorization_type==="param"||s.authorization_type==="header")&&(U(),k("password","password",!0,!0,!1),k("username","username",!0,!0,!1)),s.authorization_type==="basic_auth"&&(U(),k("password","password",!1,!0,!1,!0),k("username","username",!1,!0,!1,!0)),s.authorization_type==="bearer_token"&&(U(),k("token","token",!0,!0,!1,!0))},U=()=>{s.params=s.params.filter(c=>c.type!=="token"&&c.type!=="username"&&c.type!=="password")},k=(c,l,u,o,d,S=!0)=>{let T=s.params.reduce((g,x)=>g=g>x.id?g:x.id,0);s.params.unshift({id:T+1,type:c,name:l,hasName:u,hasValue:o,removable:d,nullable:S})},L=()=>{V()},V=(c="custom",l="custom param",u=!0,o=!0,d=!0,S=!1)=>{let T=s.params.reduce((g,x)=>g=g>x.id?g:x.id,0);s.params.push({id:T+1,type:c,name:l,hasName:u,hasValue:o,removable:d,nullable:S})},R=c=>{const l=s.params.findIndex(u=>u.id===c);s.params.splice(l,1)},B=(c,l)=>{const u=s.params.findIndex(o=>o.id===c);s.params[u].name=l.name,s.params[u].value=l.value};return(c,l)=>{const u=F("Link");return r(),O($,{title:"Create new gateway"},{default:P(()=>[e("div",Q,[e("div",X,[e("div",Z,[e("div",ee,[e("div",se,[e("div",te,[e("div",oe,[le,t(s).type==="http"?(r(),i("button",ae," 2. Request Params ")):h("",!0),t(s).type==="http"?(r(),i("button",re," 3. Webhook ")):h("",!0)])])]),e("div",ne,[e("div",ie,[e("form",{class:"mb-8 multisteps-form__form",role:"form",onSubmit:C(K,["prevent"])},[e("div",de,[me,e("div",ce,[e("div",ue,[e("div",_e,[pe,a(m,{class:"multisteps-form__input",modelValue:t(s).name,"onUpdate:modelValue":l[0]||(l[0]=o=>t(s).name=o),id:"name",type:"text",placeholder:"eg. Gateway1","aria-label":"Name",error:t(s).errors.hasOwnProperty("name")},null,8,["modelValue","error"]),a(n,{class:"mt-2",message:t(s).errors.name},null,8,["message"])])]),e("div",ye,[e("div",he,[be,_(e("select",{"onUpdate:modelValue":l[1]||(l[1]=o=>t(s).type=o),class:"form-control",name:"choices-type",id:"choices-type"},ve,512),[[p,t(s).type]]),a(n,{class:"mt-2",message:t(s).errors.type},null,8,["message"])])]),t(s).type==="http"?(r(),i(y,{key:0},[e("div",we,[e("div",ke,[Ve,a(m,{class:"multisteps-form__input",modelValue:t(s).base_url,"onUpdate:modelValue":l[2]||(l[2]=o=>t(s).base_url=o),id:"base_url",type:"text","aria-label":"Base URL",error:t(s).errors.hasOwnProperty("base_url")},null,8,["modelValue","error"]),a(n,{class:"mt-2",message:t(s).errors.base_url},null,8,["message"])])]),e("div",xe,[e("div",Pe,[je,a(m,{class:"multisteps-form__input",modelValue:t(s).success_keyword,"onUpdate:modelValue":l[3]||(l[3]=o=>t(s).success_keyword=o),id:"success_keyword",type:"text","aria-label":"Success Keyword",error:t(s).errors.hasOwnProperty("success_keyword")},null,8,["modelValue","error"]),a(n,{class:"mt-2",message:t(s).errors.success_keyword},null,8,["message"])])]),e("div",Ue,[e("div",Se,[Te,_(e("select",{"onUpdate:modelValue":l[4]||(l[4]=o=>t(s).method_type=o),class:"form-control",name:"choices-method-type",id:"choices-method-type"},[(r(!0),i(y,null,f(b.methodTypes,(o,d)=>(r(),i("option",{value:o,key:d},w(o),9,Oe))),128))],512),[[p,t(s).method_type]]),a(n,{class:"mt-2",message:t(s).errors.method_type},null,8,["message"])])]),e("div",Ne,[e("div",Ce,[Ie,_(e("select",{"onUpdate:modelValue":l[5]||(l[5]=o=>t(s).json_encoded=o),class:"form-control",name:"choices-json-encoded",id:"choices-json-encoded"},Ae,512),[[p,t(s).json_encoded]]),a(n,{class:"mt-2",message:t(s).errors.json_encoded},null,8,["message"])])]),e("div",qe,[e("div",Ke,[Le,_(e("select",{"onUpdate:modelValue":l[6]||(l[6]=o=>t(s).content_type=o),class:"form-control",name:"choices-content-types",id:"choices-content-types"},[(r(!0),i(y,null,f(b.contentTypes,(o,d)=>(r(),i("option",{value:o,key:d},w(o),9,Re))),128))],512),[[p,t(s).content_type]]),a(n,{class:"mt-2",message:t(s).errors.content_type},null,8,["message"])])]),e("div",Be,[e("div",Ge,[Je,_(e("select",{"onUpdate:modelValue":l[7]||(l[7]=o=>t(s).accept=o),class:"form-control",name:"choices-accept-content-type",id:"choices-accept-content-type"},[(r(!0),i(y,null,f(b.contentTypes,(o,d)=>(r(),i("option",{value:o,key:d},w(o),9,De))),128))],512),[[p,t(s).accept]]),a(n,{class:"mt-2",message:t(s).errors.accept},null,8,["message"])])]),e("div",Fe,[e("div",We,[$e,_(e("select",{"onUpdate:modelValue":l[8]||(l[8]=o=>t(s).encoding_type=o),class:"form-control",name:"choices-encoding",id:"choices-encoding"},[(r(!0),i(y,null,f(b.encodingTypes,(o,d)=>(r(),i("option",{value:o,key:d},w(o),9,Ee))),128))],512),[[p,t(s).encoding_type]]),a(n,{class:"mt-2",message:t(s).errors.encoding_type},null,8,["message"])])]),e("div",Ye,[e("div",He,[Qe,_(e("select",{"onUpdate:modelValue":l[9]||(l[9]=o=>t(s).ignore_ssl=o),class:"form-control",name:"choices-ignore-ssl",id:"choices-ignore-ssl"},es,512),[[p,t(s).ignore_ssl]]),a(n,{class:"mt-2",message:t(s).errors.ignore_ssl},null,8,["message"])])]),e("div",ss,[e("div",ts,[os,_(e("select",{"onUpdate:modelValue":l[10]||(l[10]=o=>t(s).authorization_type=o),class:"form-control",name:"choices-authorization-type",id:"choices-authorization-type",onChange:j},[(r(!0),i(y,null,f(b.authTypes,(o,d)=>(r(),i("option",{value:o,key:d},w(o),9,ls))),128))],544),[[p,t(s).authorization_type]]),a(n,{class:"mt-2",message:t(s).errors.authorization_type},null,8,["message"])])])],64)):h("",!0),t(s).type==="smpp"?(r(),i(y,{key:1},[e("div",as,[e("div",rs,[ns,a(m,{class:"multisteps-form__input",modelValue:t(s).ip_address,"onUpdate:modelValue":l[11]||(l[11]=o=>t(s).ip_address=o),id:"ip_address",type:"text","aria-label":"IP Address",error:t(s).errors.hasOwnProperty("ip_address")},null,8,["modelValue","error"]),a(n,{class:"mt-2",message:t(s).errors.ip_address},null,8,["message"])])]),e("div",is,[e("div",ds,[ms,a(m,{class:"multisteps-form__input",modelValue:t(s).port,"onUpdate:modelValue":l[12]||(l[12]=o=>t(s).port=o),id:"port",type:"number","aria-label":"Port",min:"1",step:"1",error:t(s).errors.hasOwnProperty("port")},null,8,["modelValue","error"]),a(n,{class:"mt-2",message:t(s).errors.port},null,8,["message"])])]),e("div",cs,[e("div",us,[_s,a(m,{class:"multisteps-form__input",modelValue:t(s).username,"onUpdate:modelValue":l[13]||(l[13]=o=>t(s).username=o),id:"username",type:"text","aria-label":"Username",error:t(s).errors.hasOwnProperty("username")},null,8,["modelValue","error"]),a(n,{class:"mt-2",message:t(s).errors.username},null,8,["message"])])]),e("div",ps,[e("div",ys,[hs,a(m,{class:"multisteps-form__input",modelValue:t(s).password,"onUpdate:modelValue":l[14]||(l[14]=o=>t(s).password=o),id:"password",type:"text","aria-label":"Password",error:t(s).errors.hasOwnProperty("password")},null,8,["modelValue","error"]),a(n,{class:"mt-2",message:t(s).errors.password},null,8,["message"])])]),e("div",bs,[e("div",gs,[fs,a(m,{class:"multisteps-form__input",modelValue:t(s).sender,"onUpdate:modelValue":l[15]||(l[15]=o=>t(s).sender=o),id:"sender",type:"text","aria-label":"Sender",error:t(s).errors.hasOwnProperty("sender")},null,8,["modelValue","error"]),a(n,{class:"mt-2",message:t(s).errors.sender},null,8,["message"])])])],64)):h("",!0),e("div",vs,[ws,e("div",ks,[Vs,_(e("input",{"onUpdate:modelValue":l[16]||(l[16]=o=>t(s).cost=o),type:"number",class:"form-control","aria-label":"Cost",step:"0.01"},null,512),[[W,t(s).cost]])]),a(n,{class:"mt-2",message:t(s).errors.cost},null,8,["message"])]),e("div",xs,[e("div",Ps,[js,a(m,{class:"multisteps-form__input",modelValue:t(s).limit,"onUpdate:modelValue":l[17]||(l[17]=o=>t(s).limit=o),id:"limit",type:"number","aria-label":"Limit",min:"1",step:"1",error:t(s).errors.hasOwnProperty("limit")},null,8,["modelValue","error"]),a(n,{class:"mt-3",message:t(s).errors.limit},null,8,["message"])])]),e("div",Us,[e("div",Ss,[Ts,a(m,{class:"multisteps-form__input",modelValue:t(s).delay,"onUpdate:modelValue":l[18]||(l[18]=o=>t(s).delay=o),id:"delay",type:"number","aria-label":"Delay",min:"1",step:"1",error:t(s).errors.hasOwnProperty("delay")},null,8,["modelValue","error"]),a(n,{class:"mt-2",message:t(s).errors.delay},null,8,["message"])])]),e("div",Os,[e("div",Ns,[Cs,_(e("select",{"onUpdate:modelValue":l[19]||(l[19]=o=>t(s).delay_type=o),class:"form-control",name:"choices-delay-unit",id:"choices-delay-unit",onChange:j},[(r(!0),i(y,null,f(b.delayTypes,(o,d)=>(r(),i("option",{value:o,key:d},w(o),9,Is))),128))],544),[[p,t(s).delay_type]]),a(n,{class:"mt-2",message:t(s).errors.delay_type},null,8,["message"])])]),e("div",zs,[e("div",Ms,[a(H,{modelValue:t(s).enabled,"onUpdate:modelValue":l[20]||(l[20]=o=>t(s).enabled=o),id:"enabled",name:"enabled",checked:""},{default:P(()=>[v(" Enable users to send using this gateway ")]),_:1},8,["modelValue"])])]),e("div",As,[t(s).type==="smpp"?(r(),O(I,{key:0,color:"dark",variant:"gradient",class:"btn mb-0 bg-gradient-dark btn-md null null ms-auto"},{default:P(()=>[v("Create")]),_:1})):h("",!0),t(s).type==="http"?(r(),i("button",qs,"Next ")):h("",!0)])])]),t(s).type==="http"?(r(),i("div",Ks,[Ls,e("div",Rs,[(r(!0),i(y,null,f(t(s).params,(o,d)=>(r(),O(Y,{"has-name":o.hasName,"has-value":o.hasValue,type:o.type,deletable:o.removable,index:o.id,onOnRemove:R,onOnChange:B,nullable:o.nullable??!1,key:o.id,name:o.type==="token"?"authorization":""},null,8,["has-name","has-value","type","deletable","index","nullable","name"]))),128)),e("div",Bs,[e("button",{class:"m-auto btn mb-0 bg-gradient-success btn-sm null null px-7",title:"add",onClick:C(L,["prevent"])},"Add ")]),Gs])])):h("",!0),t(s).type==="http"?(r(),i("div",Js,[Ds,e("div",Fs,[e("div",Ws,[e("div",$s,[Es,a(m,{class:"multisteps-form__input",modelValue:t(s).json_message_key,"onUpdate:modelValue":l[21]||(l[21]=o=>t(s).json_message_key=o),id:"json_message_key",type:"text","aria-label":"JSON Message Key",error:t(s).errors.hasOwnProperty("json_message_key")},null,8,["modelValue","error"]),a(n,{class:"mt-2",message:t(s).errors.json_message_key},null,8,["message"])])]),e("div",Ys,[e("div",Hs,[Qs,a(m,{class:"multisteps-form__input",modelValue:t(s).webhook_json_message_key,"onUpdate:modelValue":l[22]||(l[22]=o=>t(s).webhook_json_message_key=o),id:"webhook_json_message_key",type:"text","aria-label":"Webhook JSON Message Key",error:t(s).errors.hasOwnProperty("webhook_json_message_key")},null,8,["modelValue","error"]),a(n,{class:"mt-2",message:t(s).errors.webhook_json_message_key},null,8,["message"])])]),e("div",Xs,[e("div",Zs,[et,a(m,{class:"multisteps-form__input",modelValue:t(s).webhook_json_status_key,"onUpdate:modelValue":l[23]||(l[23]=o=>t(s).webhook_json_status_key=o),id:"webhook_json_status_key",type:"text","aria-label":"Webhook JSON Status Key",error:t(s).errors.hasOwnProperty("webhook_json_status_key")},null,8,["modelValue","error"]),a(n,{class:"mt-2",message:t(s).errors.webhook_json_status_key},null,8,["message"])])]),e("div",st,[a(u,{as:"button",class:"btn mb-0 bg-gradient-secondary btn-md null null mb-0 js-btn-prev",title:"Prev"},{default:P(()=>[v("Prev ")]),_:1}),a(I,{color:"dark",variant:"gradient",class:"btn mb-0 bg-gradient-dark btn-md null null ms-auto"},{default:P(()=>[v("Create")]),_:1})])])])):h("",!0)],32)])])])])])])]),_:1})}}};export{ht as default};

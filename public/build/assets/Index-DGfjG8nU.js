import{i as B,T as H,Q as q,o as C,c as z,w as $,a as d,b as Y,d as I,u as P,e as O,f as N,r as D,F,t as R,g as U}from"./app-DYrR7Grp.js";import{_ as G}from"./AppLayout-YqD8XSQj.js";import{_ as J}from"./InputError-DWI--Z5X.js";import{_ as Q}from"./SoftInput-DDylL9rA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DSNejwUh.js";import"./bootstrap.esm-BUwkA-Zi.js";function L(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(h){return typeof h}:L=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},L(m)}var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}function W(m,h){return h={exports:{}},m(h,h.exports),h.exports}var V=W(function(m,h){/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT Â© Zeno Rocha
 */(function(p,y){m.exports=y()})(X,function(){return v={},p.m=y=[function(o,a){o.exports=function(t){var r;if(t.nodeName==="SELECT")t.focus(),r=t.value;else if(t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"){var c=t.hasAttribute("readonly");c||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),c||t.removeAttribute("readonly"),r=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),s=document.createRange();s.selectNodeContents(t),i.removeAllRanges(),i.addRange(s),r=i.toString()}return r}},function(o,a){function t(){}t.prototype={on:function(r,c,i){var s=this.e||(this.e={});return(s[r]||(s[r]=[])).push({fn:c,ctx:i}),this},once:function(r,c,i){var s=this;function u(){s.off(r,u),c.apply(i,arguments)}return u._=c,this.on(r,u,i)},emit:function(r){for(var c=[].slice.call(arguments,1),i=((this.e||(this.e={}))[r]||[]).slice(),s=0,u=i.length;s<u;s++)i[s].fn.apply(i[s].ctx,c);return this},off:function(r,c){var i=this.e||(this.e={}),s=i[r],u=[];if(s&&c)for(var b=0,g=s.length;b<g;b++)s[b].fn!==c&&s[b].fn._!==c&&u.push(s[b]);return u.length?i[r]=u:delete i[r],this}},o.exports=t,o.exports.TinyEmitter=t},function(o,a,t){var r=t(3),c=t(4);o.exports=function(i,s,u){if(!i&&!s&&!u)throw new Error("Missing required arguments");if(!r.string(s))throw new TypeError("Second argument must be a String");if(!r.fn(u))throw new TypeError("Third argument must be a Function");if(r.node(i))return k=s,j=u,(A=i).addEventListener(k,j),{destroy:function(){A.removeEventListener(k,j)}};if(r.nodeList(i))return w=i,S=s,T=u,Array.prototype.forEach.call(w,function(_){_.addEventListener(S,T)}),{destroy:function(){Array.prototype.forEach.call(w,function(_){_.removeEventListener(S,T)})}};if(r.string(i))return b=i,g=s,x=u,c(document.body,b,g,x);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var b,g,x,w,S,T,A,k,j}},function(o,a){a.node=function(t){return t!==void 0&&t instanceof HTMLElement&&t.nodeType===1},a.nodeList=function(t){var r=Object.prototype.toString.call(t);return t!==void 0&&(r==="[object NodeList]"||r==="[object HTMLCollection]")&&"length"in t&&(t.length===0||a.node(t[0]))},a.string=function(t){return typeof t=="string"||t instanceof String},a.fn=function(t){return Object.prototype.toString.call(t)==="[object Function]"}},function(o,a,t){var r=t(5);function c(i,s,u,b,g){var x=(function(w,S,T,A){return function(k){k.delegateTarget=r(k.target,S),k.delegateTarget&&A.call(w,k)}}).apply(this,arguments);return i.addEventListener(u,x,g),{destroy:function(){i.removeEventListener(u,x,g)}}}o.exports=function(i,s,u,b,g){return typeof i.addEventListener=="function"?c.apply(null,arguments):typeof u=="function"?c.bind(null,document).apply(null,arguments):(typeof i=="string"&&(i=document.querySelectorAll(i)),Array.prototype.map.call(i,function(x){return c(x,s,u,b,g)}))}},function(o,a){if(typeof Element<"u"&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}o.exports=function(r,c){for(;r&&r.nodeType!==9;){if(typeof r.matches=="function"&&r.matches(c))return r;r=r.parentNode}}},function(o,a,t){t.r(a);var r=t(0),c=t.n(r),i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e,n){for(var l=0;l<n.length;l++){var f=n[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}function u(e){(function(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")})(this,u),this.resolveOptions(e),this.initSelection()}var b=(function(e,n,l){return n&&s(e.prototype,n),l&&s(e,l),e}(u,[{key:"resolveOptions",value:function(e){var n=0<arguments.length&&e!==void 0?e:{};this.action=n.action,this.container=n.container,this.emitter=n.emitter,this.target=n.target,this.text=n.text,this.trigger=n.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,n=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px";var l=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=l+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=c()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=c()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch{e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(e){var n=0<arguments.length&&e!==void 0?e:"copy";if(this._action=n,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(e!==void 0){if(!e||(e===void 0?"undefined":i(e))!=="object"||e.nodeType!==1)throw new Error('Invalid "target" value, use a valid Element');if(this.action==="copy"&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);this._target=e}},get:function(){return this._target}}]),u),g=t(1),x=t.n(g),w=t(2),S=t.n(w),T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=function(e,n,l){return n&&k(e.prototype,n),l&&k(e,l),e};function k(e,n){for(var l=0;l<n.length;l++){var f=n[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}var j=(function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(_,x.a),A(_,[{key:"resolveOptions",value:function(e){var n=0<arguments.length&&e!==void 0?e:{};this.action=typeof n.action=="function"?n.action:this.defaultAction,this.target=typeof n.target=="function"?n.target:this.defaultTarget,this.text=typeof n.text=="function"?n.text:this.defaultText,this.container=T(n.container)==="object"?n.container:document.body}},{key:"listenClick",value:function(e){var n=this;this.listener=S()(e,"click",function(l){return n.onClick(l)})}},{key:"onClick",value:function(e){var n=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new b({action:this.action(n),target:this.target(n),text:this.text(n),container:this.container,trigger:n,emitter:this})}},{key:"defaultAction",value:function(e){return M("action",e)}},{key:"defaultTarget",value:function(e){var n=M("target",e);if(n)return document.querySelector(n)}},{key:"defaultText",value:function(e){return M("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(e){var n=0<arguments.length&&e!==void 0?e:["copy","cut"],l=typeof n=="string"?[n]:n,f=!!document.queryCommandSupported;return l.forEach(function(E){f=f&&!!document.queryCommandSupported(E)}),f}}]),_);function _(e,n){(function(f,E){if(!(f instanceof E))throw new TypeError("Cannot call a class as a function")})(this,_);var l=function(f,E){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?f:E}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return l.resolveOptions(n),l.listenClick(e),l}function M(e,n){var l="data-clipboard-"+e;if(n.hasAttribute(l))return n.getAttribute(l)}a.default=j}],p.c=v,p.d=function(o,a,t){p.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:t})},p.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},p.t=function(o,a){if(1&a&&(o=p(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var t=Object.create(null);if(p.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var r in o)p.d(t,r,(function(c){return o[c]}).bind(null,r));return t},p.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return p.d(a,"a",a),a},p.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},p.p="",p(p.s=6).default;function p(o){if(v[o])return v[o].exports;var a=v[o]={i:o,l:!1,exports:{}};return y[o].call(a.exports,a,a.exports,p),a.l=!0,a.exports}var y,v})}),Z=K(V);V.ClipboardJS;function ee(m,h,p){var y=document.createElement("button"),v=new Z(y,{text:function(){return m},action:function(){return"copy"},container:L(h)==="object"?h:document.body});v.on("success",function(o){v.destroy(),p(void 0,o)}),v.on("error",function(o){v.destroy(),p(o,void 0)}),document.body.appendChild(y),y.click(),document.body.removeChild(y)}const te={class:"py-4 container-fluid"},ne={class:"row"},oe={class:"col-12"},re={class:"card"},ie=d("div",{class:"pb-0 card-header"},[d("h6",{class:"mb-0"},"API Tokens"),d("p",{class:"mb-0 text-sm"},"Create API Token"),d("hr",{class:"my-3 horizontal dark"})],-1),ae={class:"card-body"},se=d("label",null,"Name",-1),ce=d("div",{class:"mt-4 d-flex justify-content-end"},[d("button",{type:"submit",name:"button",class:"m-0 btn bg-gradient-success ms-2"}," Create ")],-1),le={class:"card mt-4",id:"2fa"},ue=d("div",{class:"card-header"},[d("h5",{class:"mb-0"},"Manage API Tokens"),d("span",{class:"mt-2 text-sm ms-auto"},"You may delete any of your existing tokens if they are no longer needed.")],-1),fe=d("hr",{class:"my-3 horizontal dark"},null,-1),de={class:"card-body"},pe={key:0},me={class:"d-flex"},he={class:"my-auto"},ye={class:"text-secondary text-sm ms-auto my-auto me-3"},be=["onClick"],ve={key:0,class:"horizontal dark"},Te={__name:"Index",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(m){const h=B("$swal"),y=H({name:"",permissions:m.defaultPermissions}),v=H({}),o=q(),a=()=>{y.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:async()=>{await h.fire({title:"API Token",input:"text",html:"<span class='text-sm text-danger'>Please copy your new API token. For your security, it won't be shown again.</span>",inputLabel:"Your API Token",inputValue:o.props.jetstream.flash.token,showCancelButton:!1,focusConfirm:!1,confirmButtonText:'<i class="fa-solid fa-copy"></i> Copy!'}),ee(o.props.jetstream.flash.token,o.props.jetstream.flash.token,()=>{}),y.reset()}})},t=r=>{v.delete(route("api-tokens.destroy",r),{preserveScroll:!0,preserveState:!0})};return(r,c)=>(C(),z(G,{title:"History"},{default:$(()=>[d("div",te,[d("div",ne,[d("div",oe,[d("div",re,[ie,d("div",ae,[d("form",{role:"form",onSubmit:Y(a,["prevent"])},[se,I(Q,{modelValue:P(y).name,"onUpdate:modelValue":c[0]||(c[0]=i=>P(y).name=i),id:"name",type:"text",placeholder:"Name","aria-label":"Name",error:P(y).errors.hasOwnProperty("name")},null,8,["modelValue","error"]),I(J,{message:P(y).errors.name},null,8,["message"]),ce],32)])]),d("div",le,[ue,fe,d("div",de,[m.tokens.length===0?(C(),O("div",pe," No Tokens ")):N("",!0),(C(!0),O(F,null,D(m.tokens,(i,s)=>(C(),O(F,null,[d("div",me,[d("p",he,R(i.name),1),d("p",ye,[i.last_used_ago?(C(),O(F,{key:0},[U(" Last used "+R(i.last_used_ago),1)],64)):N("",!0)]),d("button",{class:"btn btn-sm btn-danger mb-0",type:"button",onClick:u=>t(i.id)},"Delete ",8,be)]),s+1!==m.tokens.length?(C(),O("hr",ve)):N("",!0)],64))),256))])])])])])]),_:1}))}};export{Te as default};
